# pxv-blkdl
## 概要
ユーザーIDを指定して`pixiv.net`から画像ファイルを一括ダウンロードします。  

## 使い方
### 注意点
- 有志作成の非公式ライブラリ[pixivpy](https://github.com/upbit/pixivpy)を使用しており、実行に必要なアカウント情報の安全が保証できません。  
後述するアカウント設定は**必ず不要なものを使用**してください。  
メールアドレス及びパスワードは普段使っているもの以外の設定を推奨します。
- 使用するアカウントにR-18の表示を許可していない場合、成人向け作品はダウンロードされません。

### 前提
1. Python(及びpip)がインストールされていること(3.7で動作確認)
2. GoogleChromeがインストールされていること
3. `2`のバージョンに対応したchromedriver.exeを`/src`に配置していること

### セットアップ
#### アカウント情報の設定
##### **メールアドレスも含めて普段使いしていないものの設定を推奨します。**
1. `/src/setting.json.example`をファイルコピーして、`/src/setting.json`へリネームする
2. `/src/setting.json`内へ以下のようにアカウント情報を設定する
    - user.email : pixivに登録されているメールアドレス
    - user.password : 上記メールアドレスに紐づくパスワード
3. `setup.bat`を実行する
    - virtualenvがローカルにインストールされるため、ローカル環境を汚したくない方はご注意ください

### 使用方法
#### Windowsで実行、かつCLI操作に慣れていない場合
1. `run.bat`を実行する
    - 対象のユーザーIDを入力します。
    - キャッシュクリアの有無を指定します。
      - 一度保存した画像はIDをキャッシュに保持しています。  
	キャッシュに存在するIDの作品はダウンロードがスキップされます。  
	複数回ツールを実行した際に先方のサーバーへなるべく負荷を与えたくないためです。
2. **「終了」** と表示されれば実行完了  
※処理を中断したい場合は`Ctrl + C`を押してください。

#### その他の環境で実行、またはCLI操作に慣れている場合
1. **執筆予定**

## 未実装・実装予定？
必要最低限の実装しかしていないため、以下は追々の対応予定

- 例外ハンドリング
- バリデーション
- ネストしたプログレスバー
  - 複数画像で構成される作品のDLに時間がかかる場合、フリーズしたように見えてしまう
  - `tqgm`の挙動が思うように行かないので一旦断念
- GUI